
proc vTclWindow.showAbout {base} {
#    global progTitle progVersion byText authorText copyrightText FreeFactoryInstalledVERSION
#    global PPref screenx screeny
############################################################################
############################################################################
# This positions the window on the screen.  It uses the screen size information to determine
# placement.
    set xCord [expr int(([winfo screenwidth .]-250)/2)]
    set yCord [expr int(([winfo screenheight .]-140)/2)]
############################################################################
############################################################################
    if {$base == ""} {
        set base .showAbout
    }
    if {[winfo exists $base]} {
        wm deiconify $base; return
    }
    set top $base
    ###################
    # CREATING WIDGETS
    ###################
    vTcl:toplevel $top -class Toplevel \
        -background #e6e6e6 -highlightbackground #e6e6e6 \
        -highlightcolor #000000
    wm withdraw $top
    wm focusmodel $top passive
    wm geometry $top 250x140+$xCord+$yCord; update
    wm maxsize $top 250 140
    wm minsize $top 250 140
    wm overrideredirect $top 0
    wm resizable $top 0 0
    wm title $top "About"
    vTcl:DefineAlias "$top" "Toplevel3" vTcl:Toplevel:WidgetProc "" 1
    bindtags $top "$top Toplevel all _TopLevel"
    vTcl:FireEvent $top <<Create>>
    wm protocol $top WM_DELETE_WINDOW "vTcl:FireEvent $top <<DeleteWindow>>"
    bind $top <Escape> {
	destroy window .showAbout
    }
    bind $top <Key-KP_Enter> {
	destroy window .showAbout
    }
    bind $top <Key-Return> {
	destroy window .showAbout
    }
    frame $top.frameAbout \
        -borderwidth 3 -height 265 -highlightcolor black -relief sunken -width 235
    vTcl:DefineAlias "$top.frameAbout" "FrameAbout" vTcl:WidgetProc "Toplevel1" 1
    set site_3_0 $top.frameAbout
    entry $site_3_0.progTitleEntry -relief flat -justify center\
        -background white -insertbackground black -textvariable MNS::FFVar(progTitle)
    vTcl:DefineAlias "$site_3_0.progTitleEntry" "EntryTitleAbout" vTcl:WidgetProc "Toplevel1" 1

    entry $site_3_0.progVersionEntry -relief flat -justify center \
        -background white -insertbackground black -textvariable MNS::FFVar(progVersion)
    vTcl:DefineAlias "$site_3_0.progVersionEntry" "EntryVersionAbout" vTcl:WidgetProc "Toplevel1" 1

    entry $site_3_0.byTextEntry -relief flat -justify center \
        -background white -insertbackground black -textvariable MNS::FFVar(byTest)
    vTcl:DefineAlias "$site_3_0.byTextEntry" "EntryByAbout" vTcl:WidgetProc "Toplevel1" 1

    entry $site_3_0.authorTextEntry -relief flat -justify center \
        -background white -insertbackground black -textvariable MNS::FFVar(authorText)
    vTcl:DefineAlias "$site_3_0.authorTextEntry" "EntryAuthorAbout" vTcl:WidgetProc "Toplevel1" 1

    entry $site_3_0.copyrightTextEntry -relief flat -justify center \
        -background white -insertbackground black -textvariable MNS::FFVar(copyrightText)
    vTcl:DefineAlias "$site_3_0.copyrightTextEntry" "EntryCopyrightAbout" vTcl:WidgetProc "Toplevel1" 1
    button $top.closeButton \
        -activebackground #e6e6e6 -activeforeground #000000 \
        -background #e6e6e6 -command {
		destroy window .showAbout
	} \
        -foreground #000000 -highlightbackground #e6e6e6 \
        -highlightcolor #000000 -text "Close"
    vTcl:DefineAlias "$top.closeButton" "ButtonCloseAbout" vTcl:WidgetProc "Toplevel3" 1

    ###################
    # SETTING GEOMETRY
    ###################

    pack $site_3_0.progTitleEntry -in $top.frameAbout -anchor center -expand 1 -fill x -side top
    pack $site_3_0.progVersionEntry -in $top.frameAbout -anchor center -expand 1 -fill x -side top
    pack $site_3_0.byTextEntry -in $top.frameAbout -anchor center -expand 1 -fill x -side top
    pack $site_3_0.authorTextEntry -in $top.frameAbout -anchor center -expand 1 -fill x -side top
    pack $site_3_0.copyrightTextEntry -in $top.frameAbout -anchor center -expand 1 -fill x -side top
    pack $top.frameAbout -in $top -anchor center -expand 0 -fill both -side top
    pack $top.closeButton -in $top -anchor center -expand 0 -fill none -side top

    vTcl:FireEvent $base <<Ready>>
}

#############################################################################
#############################################################################
## Procedure: initAbout

proc ::initAbout {} {
# global progTitle progVersion byText authorText copyrightText FreeFactoryInstalledVERSION

	set MNS::FFVar(progTitle) "Free Factory"
	set MNS::FFVar(progVersion) "Version "
	append MNS::FFVar(progVersion) $MNS::FFVar(FreeFactoryInstalledVERSION)
	set MNS::FFVar(byText) "by"
	set MNS::FFVar(authorText) "Jim Hines and Karl Swisher"
	set MNS::FFVar(copyrightText) "Copyright 2013 GPLv3"
	widgetUpdate
}
# End initAbout
#############################################################################
